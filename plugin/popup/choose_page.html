<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="choose_page.css" />
	</head>
	<body>
		
		<div class="post-url" id="local-tracks-endpoint">send url to local file storage</div>
		<div class="post-url" id="browser-cache-endpoint">send url to browser cache</div>
		<div class="post-url" id="extension-cache-endpoint">send url to extension cache</div>
		<div class="post-url" id="github-endpoint">send url to github repo file (appended)</div>
		<div class="pongpong" id="pingpongid">pingpong</div>
		<button class="pongpong" id="pingpongid" onclick="">pingpong</button>
		<!-- <form>
				<label for="categories">categories</label>
				<input is="categories"></input>
		</form> -->
		<!-- <script src="choose_page.js"></script> -->
		<script src="../native-messaging/background.js"></script>
		<script>
			function background(){
				console.log("HIT")
				let port = browser.runtime.connectNative("ping_pong");

				/*
				Listen for messages from the app.
				*/
				port.onMessage.addListener((response) => {
					console.log("Received: " + response);
				});

				/*
				On a click on the browser action, send the app a message.
				*/
				browser.browserAction.onClicked.addListener(() => {
					console.log("Sending:  ping");
					port.postMessage("ping");
				});
			}
			document.getElementById("pingpongid").addEventListener("click", background);
		</script>
	</body>
</html>
